<div>
  {{ information.name }}
  {{ information.instructions }}
</div>

<ng-container *ngIf="surveyForm">
    <form [formGroup]="surveyForm" (ngSubmit)="submitSurveyForm()">
      <div>
        <label>Nombre:</label>
        <input type="text" [formControl]="nombreForm">
      </div>

      <div formArrayName="items">
        <div *ngFor="let itemGroup of getItemsFormArray()?.controls; let i = index" [formGroupName]="i">
          
          <h3>Item: {{ items[i] }}</h3>

          <input type="hidden" formControlName="item" [value]="items[i]">

          <div>
            <label>Dimension:</label>
            <select formControlName="dimension" 
                required>
                <option *ngFor="let dimension of dimensions" 
                    [value]="dimension.dimension">{{ dimension.nombre }}</option>
              </select>     
            <div *ngIf="itemGroup.get('dimension')?.touched && 
                itemGroup.get('dimension')?.errors?.['required']" 
                class="error-message">
                Dimension es obligatoria.
              </div>    
          </div>

          <div>
            <label>Fit:</label>
            <div>
              <ng-container *ngFor="let fitOption of fit; let i = index">
                <input type="radio" formControlName="fit" [value]="fitOption">
                <label>{{ fitOption }}</label>
              </ng-container>
            </div>
            <div *ngIf="surveyForm.get('fit')?.touched && 
                surveyForm.get('fit')?.errors?.['required']" class="error-message">
              El fit es obligatorio.
            </div>
          </div>
          

          <div>
            <label>Comentario:</label>
            <textarea formControlName="comentario" rows="2" cols="50"></textarea>
          </div>

        </div>
      </div>
      <div>
        <button type="submit">Enviar</button>
    </div>    

    </form>
  </ng-container>